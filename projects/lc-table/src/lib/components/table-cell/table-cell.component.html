<ng-container [ngSwitch]="cellType">
  <ng-container *ngSwitchCase="'header'">
    <ng-container *ngTemplateOutlet="headerContainer"></ng-container>
  </ng-container>
  <ng-container *ngSwitchCase="'body'">
    <ng-container *ngTemplateOutlet="bodyContainer"></ng-container>
  </ng-container>
  <ng-container *ngSwitchCase="'footer'">
    <ng-container *ngTemplateOutlet="footerContainer"></ng-container>
  </ng-container>
</ng-container>

<ng-template #headerContainer>
  <span>{{ column.definition.header.content }}</span>
</ng-template>

<ng-template #bodyContainer>
  <ng-container [ngSwitch]="column.definition.data?.type">
    <ng-container *ngSwitchCase="'date'">
      <ng-container
        *ngTemplateOutlet="
          date;
          context: {
            content: element[column.property],
            pipe: column.definition.data?.pipe
          }
        "
      ></ng-container>
    </ng-container>
    <ng-container *ngSwitchCase="'currency'">
      <ng-container
        *ngTemplateOutlet="
          currency;
          context: {
            content: element[column.property],
            pipe: column.definition.data?.pipe
          }
        "
      ></ng-container>
    </ng-container>
    <ng-container *ngSwitchCase="'number'">
      <ng-container
        *ngTemplateOutlet="
          number;
          context: {
            content: element[column.property],
            pipe: column.definition.data?.pipe
          }
        "
      ></ng-container>
    </ng-container>
    <ng-container *ngSwitchDefault>
      <ng-container
        *ngTemplateOutlet="
          default;
          context: {
            content: element[column.property],
            pipe: column.definition.data?.pipe
          }
        "
      ></ng-container>
    </ng-container>
  </ng-container>
</ng-template>

<ng-template #footerContainer>
  <ng-container [ngSwitch]="column.definition.footer?.type">
    <ng-container *ngSwitchCase="'date'">
      <ng-container
        *ngTemplateOutlet="
          date;
          context: {
            content: column.definition.footer?.content,
            pipe: column.definition.footer?.pipe
          }
        "
      ></ng-container>
    </ng-container>
    <ng-container *ngSwitchCase="'currency'">
      <ng-container
        *ngTemplateOutlet="
          currency;
          context: {
            content: column.definition.footer?.content,
            pipe: column.definition.footer?.pipe
          }
        "
      ></ng-container>
    </ng-container>
    <ng-container *ngSwitchCase="'number'">
      <ng-container
        *ngTemplateOutlet="
          number;
          context: {
            content: column.definition.footer?.content,
            pipe: column.definition.footer?.pipe
          }
        "
      ></ng-container>
    </ng-container>
    <ng-container *ngSwitchDefault>
      <ng-container
        *ngTemplateOutlet="
          default;
          context: {
            content: column.definition.footer?.content,
            pipe: column.definition.footer?.pipe
          }
        "
      ></ng-container>
    </ng-container>
  </ng-container>
</ng-template>

<!-- DATE TYPE -->
<ng-template #date let-content="content" let-pipe="pipe">
  {{ pipe ? (content | date : pipe?.format) : (content | date) }}
</ng-template>

<!-- CURRENCY TYPE -->
<ng-template #currency let-content="content" let-pipe="pipe">
  {{
    pipe
      ? (content
        | currency : pipe.currencyCode : pipe?.display : pipe?.digitsInfo)
      : (content | currency)
  }}
</ng-template>

<!-- NUMBER TYPE -->
<ng-template #number let-content="content" let-pipe="pipe">
  {{ pipe ? (content | number : pipe?.digitsInfo) : (content | number) }}
</ng-template>

<!-- DEFAULT TYPE -->
<ng-template #default let-content="content" let-pipe="pipe">
  {{ content }}
</ng-template>
