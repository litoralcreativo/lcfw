<table mat-table [dataSource]="dataSource">
  <ng-container
    *ngFor="let column of this.columns"
    [matColumnDef]="column.property"
  >
    <th
      mat-header-cell
      *matHeaderCellDef
      [style]="column.definition.header?.style"
    >
      {{ column.definition.header?.content }}
    </th>
    <td
      mat-cell
      *matCellDef="let element"
      [style]="column.definition.data?.style"
    >
      <lc-table-cell
        [column]="column"
        [element]="element"
        [cellType]="'body'"
      ></lc-table-cell>
    </td>
    <ng-container *ngIf="hasFooter">
      <td
        mat-footer-cell
        *matFooterCellDef
        [style]="column.definition.footer?.style"
        mat-footer-row
      >
        <lc-table-cell [column]="column" [cellType]="'footer'"></lc-table-cell>
      </td>
    </ng-container>
  </ng-container>

  <tr
    mat-header-row
    *matHeaderRowDef="columnNames; sticky: tableConfig.header?.sticky"
    [style]="tableConfig.header?.style"
  ></tr>
  <tr mat-row *matRowDef="let row; columns: columnNames"></tr>
  <ng-container *ngIf="hasFooter">
    <tr
      mat-footer-row
      *matFooterRowDef="columnNames; sticky: tableConfig.footer?.sticky"
      [style]="tableConfig.footer?.style"
    ></tr>
  </ng-container>
</table>
