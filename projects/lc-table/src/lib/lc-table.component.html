<table mat-table [dataSource]="_dataSource" matSort>
  <!-- HEADER DEFINITION -->
  <tr
    mat-header-row
    *matHeaderRowDef="columnNames; sticky: tableConfig.header?.sticky"
    [style]="tableConfig.header?.style"
  ></tr>

  <!-- SELECT COLUMN DEFINITION -->
  <ng-container
    *ngIf="tableConfig.selection"
    matColumnDef="lcSelectionColumn"
    [sticky]="tableConfig.selection?.sticky"
  >
    <th
      mat-header-cell
      *matHeaderCellDef
      style="width: 50px"
      [style]="tableConfig.selection?.style"
    >
      <mat-checkbox
        *ngIf="tableConfig.selection?.sellectAllToggle"
        (change)="$event ? toggleAllRows() : null"
        [checked]="selection.hasValue() && isAllSelected()"
        [indeterminate]="selection.hasValue() && !isAllSelected()"
      >
      </mat-checkbox>
    </th>
    <td mat-cell *matCellDef="let row" [style]="tableConfig.selection?.style">
      <mat-checkbox
        (click)="$event.stopPropagation()"
        (change)="$event ? selection.toggle(row) : null"
        [checked]="selection.isSelected(row)"
      >
      </mat-checkbox>
    </td>
    <ng-container *ngIf="hasFooter">
      <td mat-footer-cell *matFooterCellDef mat-footer-row></td>
    </ng-container>
  </ng-container>

  <!-- ROW DEFINITION -->
  <tr mat-row *matRowDef="let row; columns: columnNames"></tr>
  <ng-container
    *ngFor="let column of this.columns"
    [matColumnDef]="column.property"
  >
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      [disabled]="!column.definition.configuration?.sortable"
      [style]="column.definition.header?.style"
    >
      <lc-table-cell [column]="column" [cellType]="'header'"></lc-table-cell>
    </th>
    <td
      mat-cell
      *matCellDef="let element"
      [style]="column.definition.data?.style"
    >
      <lc-table-cell
        [column]="column"
        [element]="element"
        [cellType]="'body'"
      ></lc-table-cell>
    </td>
    <ng-container *ngIf="hasFooter">
      <td
        mat-footer-cell
        *matFooterCellDef
        [style]="column.definition.footer?.style"
        mat-footer-row
      >
        <lc-table-cell [column]="column" [cellType]="'footer'"></lc-table-cell>
      </td>
    </ng-container>
  </ng-container>

  <!-- FOOTER DEFINITION -->
  <ng-container *ngIf="hasFooter">
    <tr
      mat-footer-row
      *matFooterRowDef="columnNames; sticky: tableConfig.footer?.sticky"
      [style]="tableConfig.footer?.style"
    ></tr>
  </ng-container>

  <!-- PAGINATOR DEFINITION-->
  <ng-container *ngIf="tableConfig.pagination">
    <ng-container matColumnDef="pagination">
      <td
        mat-footer-cell
        *matFooterCellDef
        [colSpan]="columns.length"
        [style]="tableConfig.pagination?.style"
      >
        <mat-paginator
          [pageSizeOptions]="
            tableConfig.pagination?.pageSizeOptions || [5, 10, 20]
          "
          showFirstLastButtons
          aria-label="Select page of periodic elements"
        >
        </mat-paginator>
      </td>
    </ng-container>
    <tr
      mat-footer-row
      *matFooterRowDef="['pagination']; sticky: true"
      class="example-second-footer-row"
    ></tr>
  </ng-container>
</table>
