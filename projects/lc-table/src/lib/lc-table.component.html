<table mat-table [dataSource]="dataSource">
  <!-- <lc-th [column]="column"></lc-th> -->
  <ng-container
    *ngFor="let column of this.columns"
    [matColumnDef]="column.property"
  >
    <th
      mat-header-cell
      *matHeaderCellDef
      [style]="column.definition.header?.style"
    >
      {{ column.definition.header?.content }}
    </th>
    <td
      mat-cell
      *matCellDef="let element"
      [style]="column.definition.data?.style"
    >
      <lc-table-cell [column]="column" [element]="element"></lc-table-cell>
    </td>
    <td
      mat-footer-cell
      *matFooterCellDef
      [style]="column.definition.footer?.style"
    >
      <div [ngSwitch]="column.definition.footer?.type">
        <div *ngSwitchDefault>{{ column.definition.footer?.content }}</div>
        <div *ngSwitchCase="'date'">
          {{
            column.definition.footer?.content
              | date : column.definition.footer?.pipe.format
          }}
        </div>
        <div *ngSwitchCase="'currency'">
          {{
            column.definition.footer?.content
              | currency
                : column.definition.footer?.pipe?.currencyCode
                : column.definition.footer?.pipe?.display
                : column.definition.footer?.pipe?.digitsInfo
                : column.definition.footer?.pipe?.locale
          }}
        </div>
        <div *ngSwitchCase="'number'">
          {{
            column.definition.footer?.content
              | number : column.definition.footer?.pipe?.digitsInfo
          }}
        </div>
      </div>
    </td>
  </ng-container>

  <tr
    mat-header-row
    *matHeaderRowDef="columnNames; sticky: tableConfig.header?.sticky"
  ></tr>
  <tr mat-row *matRowDef="let row; columns: columnNames"></tr>
  <tr
    mat-footer-row
    *matFooterRowDef="columnNames; sticky: tableConfig.footer?.sticky"
  ></tr>
</table>
